scrapers:
  - name: EmptyBottle
    url: file://testdata/chicago/https-www-emptybottle-com.html
    item: body.tweak-social-icons-style-regular.tweak-social-icons-shape-square.tweak-site-width-option-full-background.tweak-icon-weight-hairline.tweak-site-ajax-loading-bar-show.ancillary-header-top-left-layout-horizontal.ancillary-header-top-center-layout-horizontal.ancillary-header-top-right-layout-horizontal.ancillary-header-bottom-left-layout-horizontal.ancillary-header-bottom-center-layout-horizontal.ancillary-header-bottom-right-layout-horizontal.ancillary-header-branding-position-bottom-left.ancillary-header-tagline-position-hide.ancillary-header-primary-nav-position-bottom-right.ancillary-header-secondary-nav-position-top-left.ancillary-header-social-position-hide.ancillary-header-search-position-hide.ancillary-header-cart-position-top-right.ancillary-header-account-position-hide.tweak-header-primary-nav-hover-style-spotlight.tweak-header-primary-nav-button-style-outline.tweak-header-primary-nav-button-shape-pill.tweak-header-secondary-nav-hover-style-spotlight.tweak-header-secondary-nav-button-style-outline.tweak-header-secondary-nav-button-shape-pill.tweak-header-search-style-underlined.tweak-header-search-placeholder-show.tweak-header-cart-style-text.tweak-header-account-style-text.tweak-index-nav-style-none.tweak-index-nav-position-right.tweak-index-nav-text-show.tweak-index-page-fullscreen-all-pages.tweak-index-page-apply-bottom-spacing.tweak-index-page-scroll-indicator-icon-only.tweak-index-page-scroll-indicator-icon-arrow.tweak-index-page-scroll-indicator-icon-weight-light.tweak-index-gallery-layout-slideshow.tweak-index-gallery-fixed-height.tweak-index-gallery-apply-bottom-spacing.tweak-index-gallery-hover-style-plain.tweak-index-gallery-controls-large-arrows.tweak-index-gallery-controls-icon-weight-light.tweak-index-gallery-indicators-lines.tweak-index-gallery-autoplay-enable.tweak-index-gallery-transition-fade.tweak-index-gallery-content-position-middle-center.tweak-index-gallery-content-text-alignment-center.tweak-footer-show.tweak-footer-layout-stacked.tweak-footer-layout-columns-auto.tweak-footer-stacked-alignment-center.tweak-footer-business-info-show.ancillary-mobile-bar-branding-position-top-left.ancillary-mobile-bar-menu-icon-position-top-right.tweak-mobile-bar-menu-icon-hamburger.ancillary-mobile-bar-search-icon-position-hide.ancillary-mobile-bar-cart-position-bottom-center.tweak-mobile-bar-cart-style-cart.ancillary-mobile-bar-account-position-hide.tweak-mobile-bar-account-style-text.tweak-mobile-overlay-slide-origin-left.tweak-mobile-overlay-close-show.tweak-mobile-overlay-menu-primary-button-style-solid.tweak-mobile-overlay-menu-primary-button-shape-square.tweak-mobile-overlay-menu-secondary-button-style-outline.tweak-mobile-overlay-menu-secondary-button-shape-pill.tweak-quote-block-alignment-left.tweak-blog-meta-primary-date.tweak-blog-meta-secondary-category.tweak-blog-list-style-stacked.tweak-blog-list-separator-show.tweak-blog-list-alignment-center.tweak-blog-list-item-image-show.tweak-blog-list-item-image-aspect-ratio-grid-43-four-three.tweak-blog-list-item-image-aspect-ratio-stacked-43-four-three.tweak-blog-list-item-title-show.tweak-blog-list-item-excerpt-show.tweak-blog-list-item-body-show.tweak-blog-list-item-readmore-below-excerpt.tweak-blog-list-item-meta-position-above-title.tweak-blog-list-pagination-link-label-show.tweak-blog-list-pagination-link-icon-show.tweak-blog-list-pagination-link-icon-weight-light.tweak-blog-item-alignment-center.tweak-blog-item-meta-position-below-title.tweak-blog-item-share-position-below-content.tweak-blog-item-pagination-link-title-show.tweak-blog-item-pagination-link-meta-hide.tweak-blog-item-pagination-link-icon-weight-hairline.event-thumbnails.event-thumbnail-size-32-standard.event-date-label.event-list-show-cats.event-list-date.event-list-time.event-list-address.event-excerpts.event-item-back-link.gallery-design-slideshow.aspect-ratio-auto.lightbox-style-dark.gallery-navigation-bullets.gallery-info-overlay-show-on-hover.gallery-aspect-ratio-32-standard.gallery-arrow-style-no-background.gallery-transitions-fade.gallery-show-arrows.gallery-auto-crop.tweak-product-list-image-aspect-ratio-11-square.tweak-product-list-item-hover-behavior-show-alternate-image.tweak-product-list-meta-position-under.tweak-product-list-mobile-meta-position-under.tweak-product-list-meta-alignment-under-center.tweak-product-list-meta-alignment-overlay-center-center.tweak-product-list-show-title.tweak-product-list-show-price.tweak-product-list-filter-display-top.tweak-product-list-filter-alignment-center.tweak-product-item-nav-show-breadcrumb-and-pagination.tweak-product-item-nav-pagination-style-previousnext.tweak-product-item-nav-breadcrumb-alignment-left.tweak-product-item-nav-pagination-alignment-split.tweak-product-item-gallery-position-left.tweak-product-item-gallery-design-stacked.tweak-product-item-gallery-aspect-ratio-11-square.tweak-product-item-gallery-thumbnail-alignment-left.tweak-product-item-details-alignment-left.tweak-product-item-details-show-title.tweak-product-item-details-show-price.tweak-product-item-details-show-excerpt.tweak-product-item-details-excerpt-position-below-price.tweak-product-item-details-show-share-buttons.tweak-product-item-details-show-variants.tweak-product-item-details-show-quantity.tweak-product-item-details-options-style-square.tweak-product-item-details-show-add-to-cart-button.tweak-product-item-details-add-to-cart-button-style-outline.tweak-product-item-details-add-to-cart-button-shape-square.tweak-product-item-details-add-to-cart-button-padding-medium.tweak-product-item-image-zoom-behavior-click.tweak-product-item-lightbox-enabled.tweak-related-products-image-aspect-ratio-11-square.tweak-related-products-meta-alignment-under-center.tweak-product-badge-style-none.tweak-product-badge-position-top-right.tweak-product-badge-inset-floating.newsletter-style-dark.hide-opentable-icons.opentable-style-dark.small-button-style-outline.small-button-shape-square.medium-button-style-outline.medium-button-shape-square.large-button-style-solid.large-button-shape-square.image-block-poster-text-alignment-center.image-block-card-dynamic-font-sizing.image-block-card-content-position-center.image-block-card-text-alignment-left.image-block-overlap-dynamic-font-sizing.image-block-overlap-content-position-center.image-block-overlap-text-alignment-left.image-block-collage-dynamic-font-sizing.image-block-collage-content-position-center.image-block-collage-text-alignment-left.image-block-stack-dynamic-font-sizing.image-block-stack-text-alignment-left.button-style-outline.button-corner-style-square.tweak-product-quick-view-button-style-docked.tweak-product-quick-view-button-position-center.tweak-product-quick-view-lightbox-excerpt-display-truncate.tweak-product-quick-view-lightbox-show-arrows.tweak-product-quick-view-lightbox-show-close-button.tweak-product-quick-view-lightbox-controls-weight-light.tweak-share-buttons-style-icon-only.tweak-share-buttons-icons-show.tweak-share-buttons-standard-background-color.native-currency-code-usd.collection-5b06fbd0352f536b1253ead2.collection-type-index.collection-layout-default.homepage.view-list.mobile-style-available.sqs-has-custom-cart.has-logo-image.has-tagline.has-social.has-cart.has-parallax-images.enable-load-effects.has-primary-nav.has-secondary-nav.has-footer-nav.parallax-item-positioning-method-fixed > div.Site.loaded > div.Site-inner.Site-inner--index > div.Content-outer > main.Index > section.Index-page > div.Index-page-content > div.sqs-layout.sqs-grid-12.columns-12 > div.row.sqs-row > div.col.sqs-col-12.span-12 > div.row.sqs-row > div.col.sqs-col-9.span-9 > div.sqs-block.code-block.sqs-block-code > div.sqs-block-content > div.empty-bottle > div.eb-item
    fields:
      - name: location
        value: The Empty Bottle
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: "https://www.emptybottle.com"
      - name: "url"
        value: "https://www.emptybottle.com"
      - name: date
        type: date
        components:
          - covers:
              day: true
              month: true
            location:
              selector: div.content-front > div.show-details > div.date-time-outer > div.date
            layout: ["Mon January 2"]
          - covers:
              time: true
            location:
              selector: div.content-front > div.show-details > div.date-time-outer > div.start-time
            layout: ["3:04PM"]
        date_location: America/Chicago
        guess_year: true
      - name: title
        type: text
        location:
          selector: div.content-front > div.show-details > div.title
      - name: comment
        type: text
        location:
          selector: div.content-back > div.item-description
        can_be_empty: true
    render_js: true

  - name: Hideout
    url: file://testdata/chicago/https-hideoutchicago-com-events.html
    item: div.eventWrapper
    fields:
      - name: location
        value: The Hideout
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: "https://hideoutchicago.com/events/"
      - name: url
        type: url
        location:
          selector: a.url
          attr: href
      - name: title
        type: text
        location:
          selector: a.url
          attr: title
      - name: comment
        type: text
        location:
          selector: div.singleEventDescription
          entire_subtree: true
          max_length: 200
        on_subpage: url
      - name: date
        type: date
        components:
          - covers:
              day: true
              month: true
              year: true
            location:
              selector: div.singleEventDate
            layout: ["Mon, Jan 2, 2006", "Mon, January 2, 2006"]
          - covers:
              time: true
            location:
              selector: div.eventDoorStartDate
              entire_subtree: true
              regex_extract:
                exp: "Show: [0-9:]+pm"
            layout: ["Show: 3pm", "Show: 3:04pm"]
        date_location: America/Chicago

  - name: ShubasTavern
    url: file://testdata/chicago/https-lh-st-com.html
    item: body.home.page-template-default.page.page-id-78 > div.container.my-5 > div.row.row-cols-1.row-cols-md-2.row-cols-lg-3.g-4.tessera-card-deck > div.col > div.card.mb-3.h-100.tessera-show-card
    fields:
      - name: "city"
        value: "Chicago"
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: "https://lh-st.com/"
      - name: url
        type: url
        location:
          selector: div.card-header > div.tessera-has-inventory > a
          attr: href
      - name: date
        type: date
        components:
          - covers:
              day: true
              month: true
            location:
              selector: div.card-body.d-flex.flex-column > div.tessera-date > span.date
            layout: ["Jan 2"]
          - covers:
              time: true
            location:
              selector: div.card-body.d-flex.flex-column > div.row.mt-auto.align-items-end.tessera-buttons-container > div.col-md-6.show-details.text-end.p-0 > div.tessera-showTime > b
            layout: ["3:04PM"]
        date_location: "America/Chicago"
        date_language: "en_US"
        guess_year: true
      - name: title
        type: text
        location:
          - selector: div.card-body.d-flex.flex-column > a > h4.card-title
          - selector: div.card-body.d-flex.flex-column > div.tessera-additionalArtists
        separator: ", "
      - name: comment
        type: text
        location:
          selector: div.card-body.d-flex.flex-column > div.tessera-primaryBandAppend
        can_be_empty: true
      - name: location
        type: text
        location:
          selector: div.card-footer.text-start.align-items-center > span.tessera-venue
          child_index: 1

  - name: Subterranean
    url: file://testdata/chicago/https-www-subt-net-calendar.html
    item: main > div.container > div > div > div.tw-plugin-calendar-list > div.tw-cal-event > div.row
    fields:
      - name: location
        value: Subterranean
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: https://www.subt.net/calendar/
      - name: title
        type: text
        location:
          - selector: div.columns.ten > div.tw-name:nth-child(2) > a
      - name: url
        type: url
        location:
          - selector: div.columns.ten > div.tw-name:nth-child(2) > a
            attr: href
      - name: date
        type: date
        components:
          - covers:
              time: true
            location:
              selector: div.columns.two:nth-child(3) > a.tw-cal-button > span.tw-event-time-complete:nth-child(2) > span.tw-event-time
            layout:
              - 15:04 pm
          - covers:
              day: true
              month: true
              year: true
            location:
              selector: div.tw-date:nth-child(2) > span.tw-event-date-complete:nth-child(2) > span.tw-event-date
            layout:
              - January 2, 2006
        date_location: America/Chicago
        date_language: en_US

  - name: BeatKitchen
    url: file://testdata/chicago/https-www-beatkitchen-com-calendar.html
    item: main > div.container > div > div > div.tw-plugin-calendar-list > div.tw-cal-event > div.row
    fields:
      - name: location
        value: Beat Kitchen
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: https://www.beatkitchen.com/calendar/
      - name: title
        type: text
        location:
          - selector: div.columns.ten > div.tw-name:nth-child(2) > a
      - name: url
        type: url
        location:
          - selector: div.columns.ten > div.tw-name:nth-child(2) > a
            attr: href
      - name: date
        type: date
        components:
          - covers:
              time: true
            location:
              selector: div.columns.two:nth-child(3) > a.tw-cal-button > span.tw-event-time-complete:nth-child(2) > span.tw-event-time
            layout:
              - 15:04 pm
          - covers:
              day: true
              month: true
              year: true
            location:
              selector: div.tw-date:nth-child(2) > span.tw-event-date-complete:nth-child(2) > span.tw-event-date
            layout:
              - January 2, 2006
        date_location: America/Chicago
        date_language: en_US

  - name: Metro
    url: file://testdata/chicago/https-metrochicago-com-events.html
    item: div.generalView > div.col-12.eventWrapper.px-0.py-4.rhpSingleEvent > div.g-0.row
    fields:
      - name: location
        value: Metro
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: https://metrochicago.com/events/
      - name: title
        type: text
        location:
          - selector: a.url > h2
      - name: url
        type: url
        location:
          - selector: a.url
            attr: href
      - name: imageUrl
        type: url
        location:
          - selector: img
            attr: src
      - name: date
        type: date
        components:
          - covers:
              day: true
              month: true
            location:
              selector: div.col-12.col-md-3 > div.g-0.row > div.col-sm-12.p-0 > div.rhp-event-thumb > a.url > div.eventDateListTop > div.eventMonth.mb-0.singleEventDate.text-uppercase
            layout:
              - Mon, January 2
              - Mon, Jan 2
            transform:
              - type: regex-replace
                regex: Sept
                replace: Sep
          - covers:
              time: true
            location:
              selector: div.d-block.eventDoorStartDate.eventsColor > span
              regex_extract:
                exp: "[0-9]{1,2}[0-9:]*[ap]{1}m"
                index: -1
            layout:
              - 15pm
              - 15:04pm
        date_location: America/Chicago
        date_language: en_US

  - name: ThaliaHall
    url: file://testdata/chicago/https-www-thaliahallchicago-com-shows.html
    item: div.thalia > div.eb-item > div.content-front > div.show-details
    fields:
      - name: location
        value: Thalia Hall
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: https://www.thaliahallchicago.com/shows
      - name: url
        value: https://www.thaliahallchicago.com/shows
      - name: title
        type: text
        location:
          - selector: ul.performing > li
      - name: date
        type: date
        components:
          - covers:
              time: true
            location:
              selector: div.date-time-outer > div.start-time:nth-child(2)
            layout:
              - "Doors: 15:04PM"
          - covers:
              day: true
              month: true
            location:
              selector: div.date-time-outer > div.date
            layout:
              - Mon January 2
        date_location: America/Chicago
        date_language: en_US
        guess_year: true
    render_js: true

  - name: SleepingVillage
    url: file://testdata/chicago/https-www-thaliahallchicago-com-shows.html
    item: div.listings-block-list__listing
    fields:
      - name: location
        value: Sleeping Village
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: https://sleeping-village.com/events/
      - name: comment
        type: text
        location:
          - selector: div.listing__description > p
      - name: title
        type: text
        location:
          - selector: div.listing__title > h3
      - name: url
        type: url
        location:
          - selector: a.listing__title-link
            attr: href
      - name: imageUrl
        type: url
        location:
          - selector: div.listing__image img
            attr: src
      - name: date
        type: date
        components:
          - covers:
              day: true
              month: true
              time: true
            location:
              selector: p.listing-date-time > span.listing-date-time__date > span
            layout:
              - Mon, Jan 2 15:04PM
        date_location: America/Chicago
        date_language: en_US
        guess_year: true
    render_js: true
    paginator:
      location:
        selector: body > div:nth-child(1) > div > div:nth-child(2) > div > div > div:nth-child(4) > div > a.pagination-next.pagination-prev-next
      max_pages: 3

  # currently, 19/4/2024, no events on their website
  - name: GoldenDagger
    url: file://testdata/chicago/https-goldendagger-com.html
    item: div.site > div.wrapper > div.container > div.row > div.col-md-9.content-area > main.site-main > article.hentry.page.post-18.status-publish.type-page > div.entry-content > div > div.tw-plugin-upcoming-event-list > div.container > div.tw-section > div.row > div.columns.six:nth-child(2)
    fields:
      - name: location
        value: Golden Dagger
      - name: city
        value: Chicago
      - name: "type"
        value: "concert"
      - name: "sourceUrl"
        value: https://goldendagger.com/
      - name: title
        type: text
        location:
          - selector: div.tw-name > a
      - name: url
        type: url
        location:
          - selector: div.tw-name > a
            attr: href
      - name: date
        type: date
        components:
          - covers:
              time: true
            location:
              selector: div.tw-date-time:nth-child(3) > div.tw-date-time > span.tw-event-time-complete:nth-child(2) > span.tw-event-time
            layout:
              - 15:04 pm
          - covers:
              day: true
              month: true
              year: true
            location:
              selector: div.tw-date-time:nth-child(3) > span.tw-event-date-complete:nth-child(2) > span.tw-event-date
            layout:
              - January 2, 2006
        date_location: America/Chicago
        date_language: en_US
    paginator:
      location:
        selector: div.entry-content > div.tw-paginate > span > span.next > a
